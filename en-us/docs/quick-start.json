{
  "filename": "quick-start.md",
  "__html": "<h1>Quick Start</h1>\n<p>Below is a simple demo that guides new users to use Sentinel in just 3 steps. It also shows how to monitor this demo using the dashboard.</p>\n<h2>1. Add Dependency</h2>\n<p><strong>Note:</strong> Sentinel requires Java 8 or later.</p>\n<p>If your application is build in maven, just add the following code in pom.xml.</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba.csp<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>sentinel-core<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.8.6<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n<p>If not, you can download JAR in <a href=\"https://mvnrepository.com/artifact/com.alibaba.csp/sentinel-core\">Maven Center Repository</a>.</p>\n<h2>2. Define Resource</h2>\n<p>Wrap our code snippet with Sentinel API: <code>SphU.entry(&quot;resourceName&quot;)</code> and <code>entry.exit()</code>. In below example, it is <code>System.out.println(&quot;hello world&quot;);</code>:</p>\n<pre><code class=\"language-java\">Entry entry = <span class=\"hljs-keyword\">null</span>;\n\n<span class=\"hljs-keyword\">try</span> {   \n  entry = SphU.entry(<span class=\"hljs-string\">\"HelloWorld\"</span>);\n  \n  <span class=\"hljs-comment\">// BIZ logic being protected</span>\n  System.out.println(<span class=\"hljs-string\">\"hello world\"</span>);\n} <span class=\"hljs-keyword\">catch</span> (BlockException e) {\n  <span class=\"hljs-comment\">// handle block logic</span>\n} <span class=\"hljs-keyword\">finally</span> {\n  <span class=\"hljs-comment\">// make sure that the exit() logic is called</span>\n  <span class=\"hljs-keyword\">if</span> (entry != <span class=\"hljs-keyword\">null</span>) {\n    entry.exit();\n  }\n}\n</code></pre>\n<p>So far the code modification is done. We also provide <a href=\"https://github.com/alibaba/Sentinel/blob/master/sentinel-extension/sentinel-annotation-aspectj/README.md\">annotation support module</a> to define resource easier.</p>\n<h2>3. Define Rules</h2>\n<p>To limit the QPS of the resources, we could add flow rules. The following code defines a rule that limits access to the reource to 20 times per second at the maximum.</p>\n<pre><code class=\"language-java\">List&lt;FlowRule&gt; rules = <span class=\"hljs-keyword\">new</span> ArrayList&lt;FlowRule&gt;();\nFlowRule rule = <span class=\"hljs-keyword\">new</span> FlowRule();\nrule.setResource(<span class=\"hljs-string\">\"HelloWorld\"</span>);\n<span class=\"hljs-comment\">// set limit qps to 20</span>\nrule.setCount(<span class=\"hljs-number\">20</span>);\nrule.setGrade(RuleConstant.FLOW_GRADE_QPS);\nrules.add(rule);\nFlowRuleManager.loadRules(rules);\n</code></pre>\n<p>For more information, please refer to <a href=\"./basic-api-resource-rule.md\">How To Use</a>.</p>\n<h2>4. Check the Result</h2>\n<p>After running the demo for a while, you can see the following records in <code>~/logs/csp/${appName}-metrics.log</code>.</p>\n<pre><code>|--timestamp-|------date time----|--resource-|p |block|s |e|rt\n1529998904000|2018-06-26 15:41:44|hello world|20|0    |20|0|0\n1529998905000|2018-06-26 15:41:45|hello world|20|5579 |20|0|728\n1529998906000|2018-06-26 15:41:46|hello world|20|15698|20|0|0\n1529998907000|2018-06-26 15:41:47|hello world|20|19262|20|0|0\n1529998908000|2018-06-26 15:41:48|hello world|20|19502|20|0|0\n1529998909000|2018-06-26 15:41:49|hello world|20|18386|20|0|0\n\np stands for incoming request, block for blocked by rules, success for success handled by Sentinel, e for exception count, rt for average response time (ms)\n</code></pre>\n<p>This shows that the demo can print &quot;hello world&quot; 20 times per second.</p>\n<p>More examples and information can be found in the <a href=\"./basic-api-resource-rule.md\">How To Use</a> section.</p>\n<p>Samples can be found in the <a href=\"https://github.com/alibaba/Sentinel/tree/master/sentinel-demo\">sentinel-demo</a> module.</p>\n<h2>5. Start Dashboard</h2>\n<p>Sentinel also provides a simple dashboard application, on which you can monitor the clients and configure the rules in real time.</p>\n<p>For details please refer to <a href=\"./dashboard.md\">Sentinel dashboard document</a>.</p>\n<h2>Trouble Shooting and Logs</h2>\n<p>Sentinel will generate logs for troubleshooting. All the information can be found in <a href=\"./logs.md\">Sentinel logs</a>.</p>\n"
}